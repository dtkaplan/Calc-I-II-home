{
  "hash": "cdb9978a54b105affb6ed0302e8f507f",
  "result": {
    "engine": "knitr",
    "markdown": "---\nauthor: DTK\ndate: 2025-02-21\nnumber-offset: 17\nformat: live-html\n---\n\n\n\n\n\n# 2025-02-21 class notes\n\nOne of our pattern-book functions is $e^x$, or, in computer notation, `exp()`. As you know, this is the exponential function, as are $2^x$, $10^x$, or $7.321^x$. These functions all have the same shapes, the familiar exponential.\n\n\n\n::: {#fig-exponential-shapes .cell layout-ncol=\"4\"}\n\n```{.r .cell-code}\nslice_plot(exp(x) ~ x, domain(x = -1:1.1)) |> \n  gf_theme(text = element_text(size = 40))\nslice_plot(2^x ~ x, domain(x = -1:1.1)) |> \n  gf_theme(text = element_text(size = 40))\nslice_plot(10^x ~ x, domain(x = -1:1.1)) |> \n  gf_theme(text = element_text(size = 40))\nslice_plot(7.321^x ~ x, domain(x = -1:1.1)) |> \n  gf_theme(text = element_text(size = 40))\n```\n\n::: {.cell-output-display}\n![$e^x$](index-02-21-2025_files/figure-html/fig-exponential-shapes-1.png){#fig-exponential-shapes-1 width=672}\n:::\n\n::: {.cell-output-display}\n![$2^x$](index-02-21-2025_files/figure-html/fig-exponential-shapes-2.png){#fig-exponential-shapes-2 width=672}\n:::\n\n::: {.cell-output-display}\n![$10^x$](index-02-21-2025_files/figure-html/fig-exponential-shapes-3.png){#fig-exponential-shapes-3 width=672}\n:::\n\n::: {.cell-output-display}\n![$7.321^x$](index-02-21-2025_files/figure-html/fig-exponential-shapes-4.png){#fig-exponential-shapes-4 width=672}\n:::\n\nSome different denominations of exponential functions.\n:::\n\n\n\nMy personal favorite for a standard denomination is $2^x$. People have an easy time understanding \"doubling\" and \"halving,\" and I would call this function $\\text{double}(t)$ and `double(t)`. It would be easy to remember that $2 \\text{double}(t) = \\text{double}(t + 1)$.\n\nThe convenience of $\\text{double}()$ is balanced, unfortunately, by a bit of an inconvenience. This has to do with the derivative, \n$$\\begin{align}\n{\\cal D}_t \\text{double}(t) & \\equiv \n\\frac{\\text{double}(t + h) - \\text{double}(t)}{h}\\\\\n& = \\frac{2^{t+h} - 2^t}{h}\\\\\n& = \\frac{2^h - 1}{h}2^t\n\\end{align}$$\n\nThe brilliant thing here is that $${\\cal D}_t\\, \\text{double}(t)\\  \\propto\\  \\text{double}(t),$$\nthe derivative is proportional to the function itself!\n\nThe constant of proportionality is $\\frac{2^h - 1}{h}$. What number is this, and does it depend on $h$?\n\n```{webr-r}\n#| warning: false\nslice_plot((2^h - 1) / h ~ h, \n           domain(h = 0:0.01), \n           npts = 1000)\n```\n\n\nClearly $\\frac{2^h - 1}{h}$ does depend on $h$, but for $h$ very small, it approaches 0.693. (Make $h$ smaller still in the graph.)\n\nIt's inconvenient to have to remember the proportionality constant 0.693. Could we choose some other base for the exponential function that would make the constant of proportionality 1? \n\nTry it by making $h$ small (say, `h = 0.000001`) and plotting out the constant of proportionality as a function of the base:\n\n```{webr-r}\nslice_plot((base^h - 1) / h ~ base,\n           domain(base = 1:5),\n           h = 0.0001)\n```\n\nA base somewhere between 2 and 3 will lead to a constant of proportionality of 1. Zoom in and find it.\n\nOr, find the zero-crossing of the function \n\n```{webr-r}\nour_fun <- makeFun((base^h - 1) / h - 1 ~ base, h = 0.001)\nZeros(our_fun(base) ~ base, \n      domain(base = 2:3))\n```\n\nDoes this depend on $h$? Try it. \n\n$e$ (that is, `exp(1)`) is the number that makes the constant of proportionality 1:\n\n$${\\cal D}_t e^t = e^t$$\n\n## Differentiation rules for the pattern-book functions\n\n- $\\partial_x$ one(x) $=$ zero(x)\n- $\\partial_x$ identity(x) $=$ one(x)\n- $\\partial_x$ square(x)   $=$ 2 identity(x)\n- $\\partial_x$ reciprocal(x) $=$ -1/square(x)\n- $\\partial_x$ log(x)  $=$ reciprocal(x)\n- $\\partial_x$ sin(x)  $=$ cos(x)\n- $\\partial_x$ exp(x)  $=$ exp(x)\n- $\\partial_x$ sigmoid(x) $=$ gaussian(x)\n- $\\partial_x$ gaussian(x) $=$ - x gaussian(x)\n\nLet's confirm these using our simple `rateOfChange()` function:\n\n```{webr-r}\nrateOfChange <- function(tilde, h = 0.001, ...) {\n  f <- makeFun(tilde, ...)\n  cf <- function(t) {\n    (f(t+h) - f(t)) / h\n  }\n  return(cf)\n}\n```\n\nExample:\n\n```{webr-r}\nf <- makeFun(dnorm(t) ~ t)\ncandidate <- makeFun(-t * dnorm(t) ~ t)\nDf <- rateOfChange(f(t) ~ t)\nslice_plot(\n  candidate(t) ~ t,\n  domain(t = -3:3)\n) |>\n  slice_plot(\n    Df(t) ~ t, \n    color = \"blue\", alpha = 0.2,\n    linewidth = 5\n  )\n```\n\n\nActivities 8, 9, 10, 11 in Chapter 19 exercises.\n\n## Exercise 11\n\nLet's explore the derivative $\\partial_x \\frac{1}{x}$ using the evanescent-h method.\n\nThe general definition of the derivative of a function $f(x)$ is the limit as $h\\rightarrow 0$ of a ratio:\n$$\\partial_x f(x) \\equiv \\underbrace{\\lim_{h \\rightarrow 0}}_\\text{limit}\\  \\underbrace{\\frac{f(x + h) - f(x)}{h}}_\\text{ratio}\\ .$$\nFor an evanescent-h calculation, we put aside for a moment $\\lim_{h\\rightarrow0}$ and operate algebraically on the ratio. In our operations, we treat $h$ as *non-zero*.\n\na. Substitute in $f(x) = 1/x$ and show step-by-step that the ratio (for non-zero $h$) is equivalent to $- \\frac{1}{x^2 + hx}$.\n\nb. The domain of the function $1/x$ is the entire number line, *except zero*. Examine the expression $- \\frac{1}{x^2 + hx}$ to see if setting $h$ to zero would ever involve a division by zero for any $x$ in the domain of $1/x$. \n\nc. If setting $h=0$ cannot cause a division by zero, it is legitimate to do so. Set $h=0$ and simplify the expression $- \\frac{1}{x^2 + hx}$. Compare this to the rule for $\\partial_x \\frac{1}{x}$ given in *MOSAIC Calculus* Ch. 19.\n\n\n## Exercise 7\n\nConsider the function $f(x) \\equiv \\frac{x-3}{x-3}$. Simple algebra suggests that the output will be 1 for any $x$ value input, but the rules are division mean that the output is undefined for input $x=3$. Thus, the function has a \"singularity\" at $x=3$. We want to test whether this singularity is removable, that is, whether the function has a finite limit as $x \\rightarrow 3$. The computer can help us out. The basic idea is to try inputs closer and closer to $x=3$ and see if the output behaves nicely. To help you distinguish between non-removable and removable singularities (or, in the words of the song \"Santa Claus is Coming to Town\", to know \"who's naughty or nice\"), @lst-singularity-numerics defines the function $f()$ and a similar function $g()$. Try out both $f()$ and $g()$ for a sequence of inputs that get closer and closer to $x=3$ but are not *exactly* 3.\n\n::: {#lst-singularity-numerics}\n```{webr-r}\nf <- makeFun((x-3) / (x-3) ~ x)\ng <- makeFun((x-2.5) / (x-3) ~ x)\nx_sequence <- 3 - 10^-(1:15)\noptions(digits=20)\nx_sequence\nf(x_sequence)\ng(x_sequence)\n```\n:::\n\n",
    "supporting": [
      "index-02-21-2025_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}