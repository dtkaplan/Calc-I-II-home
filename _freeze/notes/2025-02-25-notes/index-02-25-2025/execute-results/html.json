{
  "hash": "18adf86f66177b2b5d4790f6de97bd92",
  "result": {
    "engine": "knitr",
    "markdown": "---\nauthor: DTK\ndate: 2025-02-25\nnumber-offset: 18\nformat: live-html\n---\n\n\n\n\n\n# 2025-02-25 class notes\n\nReminder: QUIZ at end of hour, mainly on the derivatives of the pattern-book functions.\n\n----------\n\nHundredth anniversary of microphone use in musical recordings. [Link](https://www.nytimes.com/2025/02/24/arts/music/100th-anniversary-microphone-recording.html?smid=nytcore-ios-share&referringSource=articleShare)\n\n\n----------\n\n[Khan Academy proof](https://www.youtube.com/watch?v=5xitzTutKqM) that $$\\lim_{h\\rightarrow 0} \\frac{\\sin(x)}{x}$$\n\n## The *finite-difference* derivative operator, ${\\cal D}_x$\n\n- Takes a function as input and produces a function as output.\n- An infinity of ways to define it, all variations on the same thing.\n\nRight sided $${\\cal D}_t f(t) \\equiv \\frac{f(t + h) - f(t)}{h}$$\n\nLeft sided: $${\\cal D}_t f(t) \\equiv \\frac{f(t) - f(t-h)}{h}$$    \n    \nCentered: $${\\cal D}_t f(t) \\equiv \\frac{f(t+h/2) - f(t-h/2)}{h}$$      \n    \nCentered: $${\\cal D}_t f(t) \\equiv \\frac{f(t+h) - f(t-h)}{2 h}$$      \n\n- Which of these is \"right\"? Insofar as they give the same result, they are all right. \n\n- Look at the value of the derivative at any specific input as a function of $h$. For small enough $h$, all these head in the same direction.\n\n- Definition of small enough in mathematics: $\\lim h \\rightarrow 0$.\n\n- Definition of small enough in numerics: Check at $h$ and at $h/8$: do these give *equivalent* results. If so, we're done.\n\nNOTE: \"equivalent\" requires that we accept the idea of \"close enough for our purposes.\"\n\n## Higher order derivatives\n\nGo to the board and find formulas for the 2nd- and 3rd-order derivatives of a function with one input.\n\nTo find a finite-difference formula for a second derivative, $\\cal D_{t\\, t} f(t)$ apply the finite-difference formula to $\\cal D_t f(t)$:\n\n$$\\cal D_{t\\ t} f(t) = \\frac{\\cal D_t f(t + h) - \\cal D_t f(t-h)}{2h} = $$\n\n$$= \\frac{\\frac{f(t + h + h) - f(t)}{2 h} - \\frac{f(t) - f(t-h - h)}{2 h}}{2 h}$$\n\n$$ \\frac{f(t + 2 h) - 2 f(t) + f(t-2h)}{4 h^2}$$\n\nFor simplicity, let's rewrite this using a new $h_\\star = 2 h$, getting\n$$\\cal D_{t\\ t} f(t) = \\frac{f(t + h_\\star) - 2 f(t) + f(t - h_\\star)}{2h_\\star^2}$$\n\nPaint a geometric picture of this: The average of the two end points minus the middle point.\n\n\nThird derivative $$\\cal D_{t\\, t\\, t} = \\frac{\\cal D_{t\\, t} f(t + h) - \\cal D_{t\\, t} f(t-h)}{2h}$$\n\n$$= \\frac{\\frac{f(t+2h) -2 f(t+h) + f(t)}{2h} - \\frac{f(t) - 2 f(t - h) + f(t - 2h)}{2h}}{2h}$$\n\n$$= \\frac{f(t + 2h) - 2\\left({\\large\\strut} f(t+h) - f(t-h)\\right) - f(t-2h)}{2 h^3}$$\n\n\n\n\nLet's check if this is right ...\n\nf(x + 2 * .h) - 2 * (f(x + .h) - f(x - .h)) - f(x - 2 * .h)/(2 *.h^3)\n\n\n::: {.cell}\n\n```{.r .cell-code}\nf <- sin # Non-mosaiCalc notation\nslice_plot(\n  (f(t + 2*h) - 2*(f(t+h) - f(t-h)) - f(t - 2*h)) /\n    (2*h^3) ~ t, \n  domain(t = -5:5), \n  h = 0.001\n)\n```\n\n::: {.cell-output-display}\n![](index-02-25-2025_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nnumD(f(x) ~ x + x + x)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nfunction (x, .h = 0.01) \n{\n    (f(x + 2 * .h) - 2 * (f(x + .h) - f(x - .h)) - f(x - 2 * \n        .h))/(2 * .h^3)\n}\n<environment: 0x7fd658c26ce0>\n```\n\n\n:::\n:::\n\n\n\n\n\n\n## If you have an analytic formula for a derivative, use it.\n\nExample: $g(t) \\equiv sin(t)$.\n\nAlgebraic fact : $\\sin(a + b) = \\sin(a)\\cos(b) + \\cos(a)\\sin(b)$\n\nLet's apply this to our definition of the derivative:\n\n$$\\frac{\\sin(t + h) - \\sin(t)}{h} = \\frac{\\sin(t)\\cos(h) + \\cos(t)\\sin(h) - \\sin(t)}{h}$$\n$$ = \\frac{(\\cos{h} - 1)}{h} \\sin(t) + \\frac{\\sin(h)}{h} \\cos(t)$$\n\nExample of a limit proof: [$\\lim_{h \\rightarrow 0} \\frac{\\sin(h)}{h} = 1$](https://www.youtube.com/watch?v=5xitzTutKqM)\n\n## Close enough\n\n### Sound\n\nSound is communicated to our ears by a function `pressure(t)`. What does \"close enough for our purposes\" mean here? \n\n[Recording of report about](https://archive.org/details/WWII_News_1940/1940-05-13_BBC_Bernard_Stubbs_On_The_BEF_Advance_Into_Belgium.mp3) the BEF entering Belgium (1940)\n\nA pure sine wave\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntime = (0:44100)/44100\nhz = 2*2*2*2*2*2*880\naudio::play(sin(hz*2*pi*time), rate = 44100)\n```\n:::\n\n\n\nFor the purpose of representing audio to humans, we can cut out sounds that we can't perceive.\n\n## Digital audio: Nyquist sampling theorem\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsinc <- makeFun(sin(t)/t ~ t)\nslice_plot(sinc(t) ~ t, domain(t = -25:25), npts = 500)\n```\n\n::: {.cell-output-display}\n![](index-02-25-2025_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\n\n### Training neural networks \n\n\n\n\n## Digital signal processing\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\naudio::play(Violin$y)\n\nSys.sleep(2)\nDcello <- (Violin$y[-1] - Violin$y[-nrow(Cello)])\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning in Violin$y[-1] - Violin$y[-nrow(Cello)]: longer object length is not a\nmultiple of shorter object length\n```\n\n\n:::\n\n```{.r .cell-code}\naudio::play(as.integer(20*Dcello))\n```\n:::\n",
    "supporting": [
      "index-02-25-2025_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}